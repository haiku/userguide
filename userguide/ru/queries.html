<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru">
<head>
<!-- 
 *
 * Copyright 2008-2023, Haiku. All rights reserved.
 * Distributed under the terms of the MIT License.
 *
 * Authors:
 *		Humdinger <humdingerb@gmail.com>
 * Translators:
 *		Sergei Reznikov
 *		Rodastahm Islamov
 *		Humdinger
 *		Michael Smirnov
 *
-->
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta name="robots" content="all" />
	<title>Запросы</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" type="text/css" href="../Haiku-doc.css" />
</head>
<body>

<div id="banner">
<div><span>Руководство пользователя</span></div>
</div>

<div class="nav">
<div class="inner">
<ul class="lang-menu">
<li class="now">Русский&nbsp;<span class="dropdown-caret">&#9660;</span></li>
<li><a href="../id/queries.html">Bahasa Indonesia</a></li>
<li><a href="../ca/queries.html">Català</a></li>
<li><a href="../de/queries.html">Deutsch</a></li>
<li><a href="../en/queries.html">English</a></li>
<li><a href="../es/queries.html">Español</a></li>
<li><a href="../eo/queries.html">Esperanto</a></li>
<li><a href="../fr/queries.html">Français</a></li>
<li><a href="../fur/queries.html">Furlan</a></li>
<li><a href="../it/queries.html">Italiano</a></li>
<li><a href="../hu/queries.html">Magyar</a></li>
<li><a href="../pl/queries.html">Polski</a></li>
<li><a href="../pt_PT/queries.html">Português</a></li>
<li><a href="../pt_BR/queries.html">Português (Brazil)</a></li>
<li><a href="../ro/queries.html">Română</a></li>
<li><a href="../sk/queries.html">Slovenčina</a></li>
<li><a href="../fi/queries.html">Suomi</a></li>
<li><a href="../sv_SE/queries.html">Svenska</a></li>
<li><a href="../tr/queries.html">Türkçe</a></li>
<li><a href="../zh_CN/queries.html"> 中文 ［中文］</a></li>
<li><a href="../uk/queries.html">Українська</a></li>
<li><a href="../jp/queries.html">日本語</a></li>
</ul>
<span>
 «  <a href="preferences.html">Настройки</a> 
::  <a href="contents.html" class="uplink">Содержание</a> 
::  <a href="filetypes.html">Типы файлов</a>  »
</span></div>
</div>

<div id="content">
<div>
<div class="box-info">Перевод этой страницы еще не завершен. Пока это не произойдет, незавершенные части будут на английском.</div>


<table class="index" id="index" summary="index">
<tr class="heading"><td>Содержание</td></tr>
<tr class="index"><td>
	<a href="#find-window">Окно поиска</a><br />
	<a href="#basic-query">Базовые запросы - "по имени"</a><br />
	<a href="#adv-query">Расширенные запросы - "по атрибуту"</a><br />
	<a href="#more-adv-query">Более продвинутые запросы - "по формуле"</a><br />
	<a href="#result-window">Окно результатов поиска</a><br />
	<a href="#query-template">Шаблоны запросов</a>
</td></tr>
</table>

<h1>Запросы</h1>

<p>Запрос - это поиск файлов на основе атрибутов, который может быть выполнен как в Tracker, так и в Терминале. Запросы за последние семь дней хранятся по следующему адресу: <span class="path">/boot/home/queries/</span>, по прошествии этого срока они удаляются. Следует отметить, что они не являются статичными списками результатов поиска. При открытии запроса будет запущен новый поиск.<br />
Ещё более удобный способ заключается в использовании <a href="tracker.html#navigating">выпадающих подменю</a> - просто щелкните правой кнопкой мыши по файлу запроса.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="find-window" name="find-window">Окно поиска</a></h2>
<p>Для того. чтобы произвести запрос, можно воспользоваться пуктом меню <span class="menu">Найти...</span> в Deskbar, либо в любом окне Tracker или на Рабочем столе, при помощи сочетания клавиш <span class="key">ALT</span>+<span class="key">F</span>. Окно поиска выглядит следующим образом:</p>
<img src="images/queries-images/basic-query.png" alt="basic-query.png" />
<ol>
<li><p>The <span class="menu">Query</span> menu allows to <span class="menu">Open</span> an existing query and <span class="menu">Save</span> the current search parameters as a query or <a href="#query-template">Query template</a>. It also gives quick access to <span class="menu">Recent queries</span>.</p></li>
<li><p><span class="menu">Options</span> lets you include the Trash in your search.</p></li>
<li><p><span class="menu">Templates</span> holds a list of all query templates on your system.</p></li>
<li><p>Выбрать какого типа файлы следует искать в выпадающем меню <span class="menu">Все файлы и папки</span>.</p></li>
<li>Определить тип поиска:<ul>
    <li><span class="menu">по имени</span> - базовый поиск по имени файла</li>
    <li><span class="menu">по атрибуту</span> - расширенный поиск - вы можете указать условия поиска по одному или нескольким атрибутам</li>
    <li><span class="menu">по формуле</span> - еще более продвинутый поиск, вы можете сформировать сложносоставной запрос</li></ul></li>
<li><p>Выбрать на каких разделах произвести поиск.</p></li>
<li><p>Ввести условия поиска.</p></li>
</ol>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="basic-query" name="basic-query">Базовые запросы - "по имени"</a></h2>
<p>Если вы хотите просто найти все файлы на ваших смонтированных разделах, то просто выберите тип поиска <span class="menu">по имени</span>, введите искомое слово в поле ввода и нажмите клавишу <span class="key">ENTER</span>.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="adv-query" name="adv-query">Расширенные запросы - "по атрибуту"</a></h2>
<p>Вы можете произвести расширенный запрос по указаным атрибутам конкретных типов файлов. Чтобы это работало, атрибуты должны быть <a href="index.html">проиндексированы</a>.</p>
<img src="images/queries-images/query-window.png" alt="query-window.png" />
<p>Вам следует выбрать тип файла отличный от <span class="menu">Все файлы и папки</span>, например, <span class="menu">Text | E-mail</span> и изменить тип поиска на <span class="menu">по атрибуту</span>.</p>
<p>Это добавляет всплывающее меню слева от текстового полня и кнопок <span class="button">Добавить</span> и <span class="button">Удалить</span>. Из меню можно выбрать атрибут, по которому будет произведен запрос. При помощи кнопок <span class="button">Добавить</span> и <span class="button">Удалить</span> вы можете добавить дополнительный атрибут или удалить ненужный. Эти атрибуты могут быть логически связаны операторами и/или.</p>
<p>Давайте произведем запрос по письмам для примера:</p>
<img src="images/queries-images/query-window-filled.png" alt="query-window-filled.png" />
<p>Так выглядит окно поиска для запроса по всем письмам, которые Clara Oswald послала вам за последние два месяца с темой "sufflé" или "impossible".<br />
Как видите, поиск на основе атрибутов времени поддерживает некоторые полезные фразы: кроме  "за последние два месяца (last 2 months)", вы можете выбрать "сегодня (today)", "вчера (yesterday)", "Понедельник (Monday)" или "последний Понедельник (last Monday)" (это будет понедельник на прошлой неделе), или "последние 2 минуты/часа/дня/недели (last 2 minutes/hours/days/weeks").<br />
Хороший способ сузить круг поиска.</p>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="more-adv-query" name="more-adv-query">Более продвинутые запросы - "по формуле"</a></h2>
<p>Вводить формулу вручную сложно и непрактично.</p>
<p>Используйте запросы по атрибутам, которые находятся выше. Если у вас есть все атрибуты и установлены условия поиска, попробуйте переключиться на тип поиска <span class="menu">по формуле</span> и вы увидите, как запрос превратится в строку:</p>
<img src="images/queries-images/formula-query.png" alt="formula-query.png" />
<p>В более понятном виде:</p>
<pre>(((((MAIL:from=="*[cC][lL][aA][rR][aA] [oO][sS][wW][aA][lL][dD]*")
       &amp;&amp;(MAIL:when&gt;=%2 months%))
       &amp;&amp;(MAIL:subject=="*[sS][uU][fF][fF][lL][éÉ]*"))
       ||(MAIL:subject=="*[iI][mM][pP][oO][sS][sS][iI][bB][lL][eE]*"))
       &amp;&amp;(BEOS:TYPE=="text/x-email"))</pre>
<p>Что это даёт?</p>
<ul>
<li><p>Вы можете скопировать и вставить строку в письмо, форум или IRC для того чтобы пользовались другие или для отладки.</p></li>
<li><p>You can use this method to construct a query in <span class="menu">Attribute</span> mode and then switch to <span class="menu">Formula</span> mode, to comfortably generate a search string. Enclosed in single quotes, that string can then be used with the <span class="cli">query</span> command in the Terminal.</p></li>
<li><p>Вы можете составить свой запрос наиболее точно, вставив круглые скобки там, где это необходимо, задав его частично зависящим от регистра или применяя логические комбинации отрицания, например: "<tt>==</tt>" (НЕ), "<tt>!=</tt>" (И). Для этого требуются лишь минимальные знания <a href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5_%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F" class="external free" title="http://ru.wikipedia.org/wiki/Регулярные выражения">регулярных выражений</a> и некоторые познания структуры скриптов.</p></li>
</ul>

<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="result-window" name="result-window">Окно результатов поиска</a></h2>
<p>После того как вы запустите поиск, окно поиска заменится окном результатов поиска. Вот пример результатов поиска по слову "server":</p>
<img src="images/queries-images/result-window.png" alt="result-window.png" />
<p>Некоторые вещи, которые стоит отметить:</p>
<ul>
<li><p>Вы можете открыть месторасположение файла или папки, дважды щелкнув по атрибуту адреса.</p></li>
<li><p>При помощи пункта меню <span class="menu">Файл | Изменить запрос</span> или сочетания клавиш <span class="key">ALT</span> <span class="key">G</span> вы сможете вернуться к окну поиска для того, чтобы изменить критерии запроса.</p></li>
<li><p>Запрос выполняется в реальном времени, т. е. если файл, который соответствует критериям, будет создан или удален, то это будет отображено в окне результатов поиска в реальном времени.</p></li>
</ul>
<p>Вы можете назначить удобную схему размещения атрибутов для результатов запроса конкретного типа файла. Откройте папку, содержащую файлы необходимого типа, для которых вы хотели бы создать шаблон и упорядочите атрибуты так, как хотели бы видеть выдаваемые результаты запроса. Скопируйте эту схему черз меню <span class="menu">Атрибуты | Копировать вид папки</span>.</p>
<p>Откройте <span class="path">/boot/home/config/settings/Tracker/DefaultQueryTemplates</span>, создайте новую папку с названием <i>группа/тип файла</i>, заменив косую черту подчеркиванием, например: "audio_x-mp3", откройте её и вставьте скопированную схему через меню 
 <span class="menu">Атрибуты | Вставить вид папки</span>.</p>


<h2>
<a href="#"><img src="../images/up.png" style="border:none;float:right" alt="index" /></a>
<a id="query-template" name="query-template">Шаблоны запросов</a></h2>
<p>If you double click a saved query, the file search is at once started and the result window opens immediately. However, you may not want to search with these <i>exact</i> search parameters, but use it as starting point to only slightly tweak the formula.<br />
By using the <span class="menu">Save query as template</span> menu item (see <a href="#find-window">(1) in screenshot</a> at the top), you can create just such a template. Double clicking it won't open a result window, but the Find panel, giving you the opportunity to quickly change search strings or add/remove attributes.</p>
<p>Wherever you choose to save query templates, they'll be listed in the Find panel's <span class="menu">Templates</span> menu.</p>
</div>
</div>

<div class="nav">
<div class="inner"><span>
 «  <a href="preferences.html">Настройки</a> 
::  <a href="contents.html" class="uplink">Содержание</a> 
::  <a href="filetypes.html">Типы файлов</a>  »
</span></div>
</div>

</body>
</html>
